{% extends "base.html" %}

{% block title %}Home - Deployment Automation Tool{% endblock %}

{% block page_class %}page-home{% endblock %}

{% block content %}
<style>
  /* Floating Particles for Home Page */
  .particle {
    position: absolute;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.2);
    animation: floatParticle 20s infinite ease-in-out;
    pointer-events: none;
    z-index: 0;
  }

  @keyframes floatParticle {

    0%,
    100% {
      transform: translateY(0) translateX(0) scale(1);
      opacity: 0.2;
    }

    25% {
      transform: translateY(-150px) translateX(80px) scale(1.3);
      opacity: 0.4;
    }

    50% {
      transform: translateY(-250px) translateX(-50px) scale(0.7);
      opacity: 0.3;
    }

    75% {
      transform: translateY(-100px) translateX(120px) scale(1.1);
      opacity: 0.5;
    }
  }

  .home-content {
    position: relative;
    z-index: 1;
  }

  /* Enhanced Glass Effect for Home */
  .glass-enhanced {
    background: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.3);
    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.3);
    transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .glass-enhanced:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: translateY(-8px) scale(1.02);
    box-shadow: 0 16px 48px 0 rgba(31, 38, 135, 0.4);
  }

  /* Hero Text Styling */
  .hero-text {
    text-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
    transition: all 0.3s ease;
  }
</style>

<div class="relative min-h-screen">
  <!-- Floating Particles -->
  <div class="particle" style="width: 100px; height: 100px; top: 15%; left: 8%; animation-delay: 0s;"></div>
  <div class="particle" style="width: 80px; height: 80px; top: 65%; left: 85%; animation-delay: 3s;"></div>
  <div class="particle" style="width: 120px; height: 120px; top: 75%; left: 15%; animation-delay: 6s;"></div>
  <div class="particle" style="width: 90px; height: 90px; top: 35%; left: 75%; animation-delay: 9s;"></div>
  <div class="particle" style="width: 110px; height: 110px; top: 5%; left: 55%; animation-delay: 12s;"></div>
  <div class="particle" style="width: 70px; height: 70px; top: 80%; left: 92%; animation-delay: 15s;"></div>

  <div class="container mx-auto px-4 py-12 home-content">

    <!-- Hero Section -->
    <div class="text-center mb-16 fade-in-up">
      <h1 class="text-5xl md:text-6xl font-extrabold text-white hero-text animate-float"
        style="animation: float 3s ease-in-out infinite;">
        ðŸš€DeployX-Deployment Automation Tool
      </h1>
      <p class="text-xl text-white/95 mb-8 max-w-2xl mx-auto font-medium drop-shadow-lg">
        Streamline your deployment workflow. Deploy, manage, and run projects from GitHub with a single click.
      </p>
      <div class="flex gap-4 justify-center">

        {% if session.get("user_id") %}
        <!-- Logged-in user -->
        <a href="/dashboard" class="px-8 py-4 bg-white text-blue-600 font-semibold rounded-xl btn-hover shadow-2xl">
          Dashboard â†’
        </a>

        <a href="/projects"
          class="px-8 py-4 glass-enhanced text-white font-semibold rounded-xl border-2 border-white/40 btn-hover shadow-2xl">
          View Projects
        </a>

        {% else %}
        <!-- New user -->
        <a href="/signup" class="px-8 py-4 bg-white text-blue-600 font-semibold rounded-xl btn-hover shadow-2xl">
          Create Account â†’
        </a>

        <a href="/login"
          class="px-8 py-4 glass-enhanced text-white font-semibold rounded-xl border-2 border-white/40 btn-hover shadow-2xl">
          Login
        </a>
        {% endif %}

      </div>

    </div>

    <!-- Features Grid -->
    <div class="grid md:grid-cols-3 gap-8 mb-16">

      <div class="glass-enhanced rounded-2xl p-6 card-hover fade-in-up">
        <h3 class="text-xl font-bold text-white mb-2">Flexible GitHub Deployment</h3>
        <p class="text-white/90">
          Deploy projects using GitHub username selection or direct custom repository URLs.
        </p>
      </div>

      <div class="glass-enhanced rounded-2xl p-6 card-hover fade-in-up">
        <h3 class="text-xl font-bold text-white mb-2">Smart Dependency Installer</h3>
        <p class="text-white/90">
          Automatically installs dependencies for Python, Node.js, and MERN projects based on project structure.
        </p>
      </div>

      <div class="glass-enhanced rounded-2xl p-6 card-hover fade-in-up">
        <h3 class="text-xl font-bold text-white mb-2">Project Type Detection</h3>
        <p class="text-white/90">
          Detects Python, Streamlit, Node.js, React, and MERN projects and runs them accordingly.
        </p>
      </div>

      <div class="glass-enhanced rounded-2xl p-6 card-hover fade-in-up">
        <h3 class="text-xl font-bold text-white mb-2">Project Management</h3>
        <p class="text-white/90">
          View all deployed projects, run them, install dependencies, or delete them with proper cleanup.
        </p>
      </div>

      <div class="glass-enhanced rounded-2xl p-6 card-hover fade-in-up">
        <h3 class="text-xl font-bold text-white mb-2">User Activity Logs</h3>
        <p class="text-white/90">
          Track deployments, runs, installs, and deletions with per-user logging.
        </p>
      </div>

      <div class="glass-enhanced rounded-2xl p-6 card-hover fade-in-up">
        <h3 class="text-xl font-bold text-white mb-2">Safe & Isolated Execution</h3>
        <p class="text-white/90">
          Each userâ€™s projects are isolated. Path validation prevents unsafe access.
        </p>
      </div>

    </div>

    <!-- Supported Project Types Section -->
    <div class="mb-16 fade-in-up">
      <h2 class="text-4xl font-bold text-center mb-12 text-white drop-shadow-lg hero-text">
        Supported Project Types
      </h2>

      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">

        <!-- Python -->
        <div class="glass-enhanced rounded-2xl p-8 card-hover text-center">
          <div class="inline-flex mx-auto mb-5 px-5 py-2 rounded-full
               border border-white/40 bg-white/10
               text-white text-sm font-semibold tracking-wide">
            Python
          </div>
          <h3 class="text-xl font-bold text-white mb-3">
            Python Applications
          </h3>
          <p class="text-white/90 text-sm leading-relaxed">
            Automatically detects Python projects and installs dependencies using
            <code class="bg-white/10 px-1 rounded">requirements.txt</code>.
          </p>
        </div>

        <!-- Streamlit -->
        <div class="glass-enhanced rounded-2xl p-8 card-hover text-center">
          <div class="inline-flex mx-auto mb-5 px-5 py-2 rounded-full
               border border-white/40 bg-white/10
               text-white text-sm font-semibold tracking-wide">
            Streamlit
          </div>
          <h3 class="text-xl font-bold text-white mb-3">
            Streamlit Apps
          </h3>
          <p class="text-white/90 text-sm leading-relaxed">
            Detects Streamlit dashboards automatically and runs them with live preview support.
          </p>
        </div>

        <!-- Node.js -->
        <div class="glass-enhanced rounded-2xl p-8 card-hover text-center">
          <div class="inline-flex mx-auto mb-5 px-5 py-2 rounded-full
               border border-white/40 bg-white/10
               text-white text-sm font-semibold tracking-wide">
            Node.js
          </div>
          <h3 class="text-xl font-bold text-white mb-3">
            Node.js Projects
          </h3>
          <p class="text-white/90 text-sm leading-relaxed">
            Supports Node.js backends with automatic
            <code class="bg-white/10 px-1 rounded">npm install</code>
            and start script detection.
          </p>
        </div>

        <!-- MERN -->
        <div class="glass-enhanced rounded-2xl p-8 card-hover text-center">
          <div class="inline-flex mx-auto mb-5 px-5 py-2 rounded-full
               border border-white/40 bg-white/10
               text-white text-sm font-semibold tracking-wide">
            MERN Stack
          </div>
          <h3 class="text-xl font-bold text-white mb-3">
            MERN Stack
          </h3>
          <p class="text-white/90 text-sm leading-relaxed">
            Detects backend and frontend separately and runs full MERN applications seamlessly.
          </p>
        </div>

        <!-- React -->
        <div class="glass-enhanced rounded-2xl p-8 card-hover text-center">
          <div class="inline-flex mx-auto mb-5 px-5 py-2 rounded-full
               border border-white/40 bg-white/10
               text-white text-sm font-semibold tracking-wide">
            React
          </div>
          <h3 class="text-xl font-bold text-white mb-3">
            React Frontend
          </h3>
          <p class="text-white/90 text-sm leading-relaxed">
            Supports Vite and React-based frontends with automatic dev server handling.
          </p>
        </div>

        <!-- Custom GitHub -->
        <div class="glass-enhanced rounded-2xl p-8 card-hover text-center">
          <div class="inline-flex mx-auto mb-5 px-5 py-2 rounded-full
               border border-white/40 bg-white/10
               text-white text-sm font-semibold tracking-wide">
            GitHub Repo
          </div>
          <h3 class="text-xl font-bold text-white mb-3">
            Custom GitHub Repositories
          </h3>
          <p class="text-white/90 text-sm leading-relaxed">
            Deploy public or private GitHub repositories using custom repository URLs.
          </p>
        </div>

      </div>
    </div>


    <!-- How It Works -->
    <div class="mb-20 fade-in-up">
      <h2 class="text-4xl font-bold text-center mb-14 text-white drop-shadow-lg hero-text">
        How It Works
      </h2>

      <div class="grid md:grid-cols-4 gap-8">

        <!-- Step 1 -->
        <div class="glass-enhanced rounded-2xl p-8 card-hover text-center relative">
          <div class="inline-flex items-center justify-center mb-6 px-5 py-2
               rounded-full border border-white/40 bg-white/10
               text-white text-sm font-semibold tracking-wide">
            Step 1
          </div>
          <h3 class="font-semibold text-white mb-3 text-lg">
            Connect GitHub
          </h3>
          <p class="text-sm text-white/90 leading-relaxed">
            Enter your GitHub username and personal access token to fetch repositories securely.
          </p>
        </div>

        <!-- Step 2 -->
        <div class="glass-enhanced rounded-2xl p-8 card-hover text-center relative">
          <div class="inline-flex items-center justify-center mb-6 px-5 py-2
               rounded-full border border-white/40 bg-white/10
               text-white text-sm font-semibold tracking-wide">
            Step 2
          </div>
          <h3 class="font-semibold text-white mb-3 text-lg">
            Select Repository
          </h3>
          <p class="text-sm text-white/90 leading-relaxed">
            Choose a repository from your GitHub account or deploy using a custom repo URL.
          </p>
        </div>

        <!-- Step 3 -->
        <div class="glass-enhanced rounded-2xl p-8 card-hover text-center relative">
          <div class="inline-flex items-center justify-center mb-6 px-5 py-2
               rounded-full border border-white/40 bg-white/10
               text-white text-sm font-semibold tracking-wide">
            Step 3
          </div>
          <h3 class="font-semibold text-white mb-3 text-lg">
            Deploy & Install
          </h3>
          <p class="text-sm text-white/90 leading-relaxed">
            The system automatically clones the repo and installs required dependencies.
          </p>
        </div>

        <!-- Step 4 -->
        <div class="glass-enhanced rounded-2xl p-8 card-hover text-center relative">
          <div class="inline-flex items-center justify-center mb-6 px-5 py-2
               rounded-full border border-white/40 bg-white/10
               text-white text-sm font-semibold tracking-wide">
            Step 4
          </div>
          <h3 class="font-semibold text-white mb-3 text-lg">
            Run Project
          </h3>
          <p class="text-sm text-white/90 leading-relaxed">
            Start your project instantly with one click and access it via live URL.
          </p>
        </div>

      </div>
    </div>


    <script>
      // Scroll Animation Observer
      const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
          }
        });
      }, observerOptions);

      // Observe all fade-in-up elements
      document.querySelectorAll('.fade-in-up').forEach(el => {
        observer.observe(el);
      });

      // Animate stats counter
      function animateCounter(element, target) {
        let current = 0;
        const increment = target / 50;
        const timer = setInterval(() => {
          current += increment;
          if (current >= target) {
            element.textContent = target;
            clearInterval(timer);
          } else {
            element.textContent = Math.floor(current);
          }
        }, 30);
      }

    </script>
    {% endblock %}